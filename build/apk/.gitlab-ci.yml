build apk:
  stage: build
  image: node:12
  script:
    - cd app
    - uname -r
    - apt-get install openjdk-8-jre
    - apt-get install android-sdk
    - yarn
    - yarn global add @ionic/cli@^6.2.0
    - yarn global add cordova
    - yarn global add typescript@3.8.3
    - ionic cordova prepare android --no-interactive --confirm
    - ionic cordova build android --no-interactive --confirm
    - cd ..
    - mkdir APK
    - cp -r app/build/* APK
  artifacts:
    paths:
      - APK